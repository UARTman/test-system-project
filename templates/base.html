<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
        <meta charset="UTF-8">
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
        <link rel="stylesheet" href="{{ url_for('static', filename='jqui/jquery-ui.min.css') }}" />
        <script src="{{ url_for('static', filename='jquery-3.4.1.min.js') }}"></script>
        <script src="{{ url_for('static', filename='jqui/jquery-ui.min.js') }}"></script>
        <title>
            {% block title %}
            {% endblock %}
        </title>
    {% endblock %}
</head>

<body>
<div id="header">
    {% block header %}
        <a href="{{ url_for('home_page') }}" id="logo" class="left">Home</a>
        {% if 'user' in session %}
            <a href="{{ url_for('admin_panel') }}">Admin panel</a>
            <a href="{{ url_for('logout') }}"> Logout </a>
        {% else %}
            <a href="{{ url_for('login_placeholder') }}"> Login </a>
        {% endif %}
    {% endblock %}
</div>
<div id="sidebar">
    {% block sidebar %}
        <ul>
            <li><a href="{{ url_for('admin_panel') }}"> Admin panel </a></li>
            <li><a href="{{ url_for('play_test') }}"> Join a test </a></li>
            <li><a href="{{ url_for('leaderboard') }}"> Leaderboard </a></li>
        </ul>
    {% endblock %}
</div>
<div id="content">
    {% block content %}
    {% endblock %}
</div>
<div id="confirmation_dialog" title="Confirmation!" style="visibility: hidden">
        <p>Are you sure you want to take this action?</p>
    </div>
    <script>
        let confirmDialog = function(f) {
                let dialog_clone = $("#confirmation_dialog").clone();
                dialog_clone.css("visibility", "visible");
                let dialog = dialog_clone.dialog({
                    autoOpen: false,
                    buttons: {
                        "Do it!" : function () {
                            f();
                            dialog.dialog("close");
                        },
                        "No" : function () {
                            dialog.dialog("close");
                        }
                    }
                });
                return dialog;
        };
    </script>
</body>
</html>